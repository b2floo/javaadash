<!DOCTYPE html>
<html>
    <head>
        <title> Real time multi-player games with HTML5</title>
        <style type="text/css">
            html , body {
                background: #212121; 
                color: #fff; 
                margin: 0; 
                padding: 0;
            }
            #canvas {
                position: absolute;
                left: 0; right: 0; top: 0; bottom: 0; 
                margin: auto;
            }
        </style>
        
            <!-- Notice the URL, this is handled by socket.io on the server automatically, via express -->
        <script src="js/socket.io/socket.io.js"></script>
        
            <!-- This will create a connection to socket.io, and print the user serverid that we sent from the server side. --> 
        <script type="text/javascript">
			
			console.log( 'In the javascript' );
			
                //This is all that needs
           var socket = io.connect('http://localhost:9092', {
             'reconnection delay' : 2000,
             'force new connection' : true
           });
           
           socket.on('list_games_result', function(games_list) {
                // here is your handler on messages from server
                console.log( 'Message received' + data);
           });

       		socket.on('connect', function() {
       		    console.log( 'Trying connect' );
                // connection established, now we can send an objects


                // send json-object to server
                // '@class' property should be defined and should 
                // equals to full class name.
                //var obj = { '@class' : 'java.lang.String', };
                //socket.json.send(obj);

                // send event-object to server
                // '@class' property is NOT necessary in this case
                var event = {};
                socket.emit('list_games', event);

       		});

        </script>
 
    </head>
 
    <body>
        <canvas id="canvas"> </canvas>  
    </body>
</html